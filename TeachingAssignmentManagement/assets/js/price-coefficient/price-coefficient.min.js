var popup,rootUrl=$("#loader").data("request-url"),yearData=$("#yearData"),startYear=yearData.data("startyear"),endYear=yearData.data("endyear");function refreshTable(){$.get(url+"?startYear="+startYear+"&endYear="+endYear).done((function(t){var e=$(t);$("#tblStandard").replaceWith($("#tblStandard",e)),$("#tblSpecial").replaceWith($("#tblSpecial",e)),$("#tblForeign").replaceWith($("#tblForeign",e)),$("#tblCoefficient").replaceWith($("#tblCoefficient",e))}))}function disableButtons(t){!0===t?($(".editAll").prop("disabled",!0),$(".editRow").each((function(){this.style.pointerEvents="none"})),$(".deleteRow").each((function(){this.style.pointerEvents="none"}))):($(".editAll").prop("disabled",!1),$(".editRow").each((function(){this.style.pointerEvents="auto"})),$(".deleteRow").each((function(){this.style.pointerEvents="auto"})))}function popupForm(t,e){var n=$("<div/>");$.get(t).done((function(t){n.html(t),popup=n.dialog({autoOpen:!0,resizable:!1,title:"Quản lý "+e,width:550,open:function(){$(this).closest(".ui-dialog").find(".ui-dialog-titlebar-close").addClass("btn-close"),disableButtons(!0)},close:function(){popup.dialog("destroy").remove(),disableButtons(!1)}})}))}function submitForm(t){return $.validator.unobtrusive.parse(t),$(t).valid()&&$.ajax({type:"POST",url:t.action,data:$(t).serialize(),success:function(t){t.success?(popup.dialog("close"),refreshTable(),toastr.success(t.message)):Swal.fire({title:"Thông báo",text:t.message,icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}),!1}function deleteUnitPrice(t){Swal.fire({title:"Thông báo",text:"Bạn có chắc muốn xoá đơn giá này?",icon:"warning",showCancelButton:!0,cancelButtonText:"Huỷ",confirmButtonText:"Xoá",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then((e=>{e.isConfirmed&&$.ajax({type:"POST",url:rootUrl+"PriceCoefficient/Delete/"+t,success:function(t){t.success?(refreshTable(),toastr.success(t.message)):Swal.fire({title:"Thông báo",text:t.message,icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}})}))}feather&&feather.replace({width:14,height:14});