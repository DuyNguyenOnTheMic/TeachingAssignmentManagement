var formSelect=$(".form-select"),rootUrl=$("#loader").data("request-url"),subjectDiv=$("#subjectDiv"),url=rootUrl+"Remuneration/GetSubjectPartial",hubNotif=$.connection.timetableHub;function fetchData(){var t=$("#term").val(),e=$("#major").val();t&&e?(!0===$(".ui-dialog-content").dialog("isOpen")&&$(".ui-dialog-content").dialog("close"),getSubjectData(t,e)):showNoData(subjectDiv,"học kỳ")}function getSubjectData(t,e){t&&e&&(showLoading(subjectDiv),$.get(url,{termId:t,majorId:e},(function(t){subjectDiv.html(t)})))}$.connection.hub.start(),hubNotif.client.refreshedData=function(t,e){t==termId&&e==majorId?getSubjectData(t,e):t==termId&&-1==majorId?getSubjectData(t,e=-1):t==termId&&null==e&&getSubjectData(t,majorId)},$((function(){formSelect.each((function(){var t=$(this);t.val(t.find("option:first").next().val())})),$("#major option:first").after('<option value="-1">Tất cả</option>'),formSelect.each((function(){var t=$(this);t.wrap('<div class="position-relative"></div>'),t.select2({language:"vi",dropdownAutoWidth:!0,dropdownParent:t.parent(),placeholder:t[0][0].innerHTML})})),fetchData()})),formSelect.change((function(){fetchData()}));