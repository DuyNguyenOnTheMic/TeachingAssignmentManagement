var termSelect=$("#term"),rootUrl=$("#loader").data("request-url"),submit=$("#submit-all"),statisticsDiv=$("#statisticsDiv"),url=rootUrl+"Statistics/GetVisitingLecturerData";function filterCount(t){t.parent().find(".select2-search__field").attr("placeholder","Đã chọn "+t.val().length+" học kỳ")}$((function(){$.fn.select2.amd.define("select2/selectAllAdapter",["select2/utils","select2/dropdown","select2/dropdown/attachBody"],(function(t,e,r){function n(){}return n.prototype.render=function(t){var e=this,r=t.call(this),n=$('<button class="btn btn-sm text-start filter-button" type="button"><i class="feather feather-check-square"></i> Chọn tất cả</button>'),c=$('<button class="btn btn-sm text-start filter-button" type="button"><i class="feather feather-square"></i> Bỏ chọn tất cả</button>'),l=$('<div class="d-grid"></div>').append(n).append(c);return this.$element.prop("multiple")?(r.find(".select2-dropdown").prepend(l),n.on("click",(function(){termSelect.find("option").prop("selected",!0).trigger("change"),filterCount(termSelect),e.trigger("close")})),c.on("click",(function(){termSelect.val("-1").trigger("change"),termSelect.parent().find(".select2-search__field").attr("placeholder","---- Chọn học kỳ ----"),e.trigger("close")})),r):r},t.Decorate(t.Decorate(e,r),n)})),termSelect.wrap('<div class="position-relative"></div>').select2({width:"100%",language:"vi",dropdownAutoWidth:!0,dropdownParent:termSelect.parent(),placeholder:termSelect[0][0].innerHTML,dropdownAdapter:$.fn.select2.amd.require("select2/selectAllAdapter")}),termSelect.parent().find(".select2-search__field").attr("placeholder","---- Chọn học kỳ ----"),termSelect.on("change",(function(){filterCount(termSelect)}))})),submit.on("click",(function(){var t=termSelect.val();t.length?($(this).prop("disabled",!0),setTimeout((()=>$(this).prop("disabled",!1)),1e3),showLoading(statisticsDiv),$.ajax({type:"GET",url:url,data:{termIds:t},traditional:!0,success:function(t){statisticsDiv.html(t)}})):toastr.warning("Bạn chưa chọn học kỳ để thống kê!")}));