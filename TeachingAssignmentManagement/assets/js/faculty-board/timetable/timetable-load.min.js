var rootUrl=$("#loader").data("request-url"),hubNotif=$.connection.curriculumClassHub;function populateSelect(t){t.wrap('<div class="position-relative"></div>'),t.select2({language:"vi",dropdownAutoWidth:!0,dropdownParent:t.parent()})}$.connection.hub.start(),hubNotif.client.updatedData=function(t,a,e,r){var n=$("#"+t);if(n.length)if(r){var l=n.find(".form-select");l.select2("destroy").unwrap(),l.val(a),l.children('option[value = "'+l.data("preval")+'"]').text(l.data("pretext")),null!=e&&l.children('option[value = "'+a+'"]').text(splitString(e));var i=l.closest(".assign-card"),o="bg-opacity-50";a?i.hasClass(o)&&i.removeClass(o):i.addClass(o),l.data("preval",a),l.data("pretext",e),populateSelect(l)}else n.remove()},$((function(){var t=$(".form-select"),a=$("#assignLecturerDiv"),e=rootUrl+"FacultyBoard/Timetable/GetData";t.each((function(){var t=$(this);t.wrap('<div class="position-relative"></div>'),t.select2({language:"vi",dropdownAutoWidth:!0,dropdownParent:t.parent(),placeholder:t[0][0].innerHTML})})),t.change((function(){var t=$("#term").val(),r=$("#major").val();t&&r&&(a.html('<div class="d-flex justify-content-center"><div class="spinner-border text-primary me-1" role="status"><span class="visually-hidden">Loading...</span></div><p class="mt-25">Đang tải...</p></div>'),$.get(e,{termId:t,majorId:r},(function(t){a.html(t)})))}))}));