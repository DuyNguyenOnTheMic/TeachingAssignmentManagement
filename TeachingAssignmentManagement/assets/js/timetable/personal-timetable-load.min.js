var formSelect=$(".form-select"),termSelect=$("#term"),weekSelect=$("#week"),lecturerSelect=$("#lecturer"),rootUrl=$("#loader").data("request-url"),personalTimetableDiv=$("#personalTimetableDiv"),url=rootUrl+"Timetable/GetPersonalData";function loading(){showLoading(personalTimetableDiv),$("[data-bs-toggle='tooltip']").tooltip("dispose")}function fetchData(e,t,l){$.get(url,{termId:e,week:t,lecturerId:l},(function(e){e.error?(showNoData(personalTimetableDiv,"phân công trong học kỳ"),weekSelect.parent().find(".select2-selection__placeholder").text("không khả dụng")):personalTimetableDiv.html(e)}))}$((function(){var e=$("#term option:eq(1)").val(),t=lecturerSelect.val();termSelect.val(e),formSelect.each((function(){var e=$(this);e.wrap('<div class="position-relative"></div>'),e.select2({language:"vi",dropdownAutoWidth:!0,dropdownParent:e.parent(),placeholder:e[0][0].innerHTML})})),e?t?fetchData(e,0,t):personalTimetableDiv.html('<h4 class="text-center mt-2">Bạn chưa điền đẩy đủ mã giảng viên và tên giảng viên</h4><div class="card-body"><img class="mx-auto p-3 d-block w-50" alt="No data" src="'+rootUrl+'assets/images/img_no_data.svg"></div>'):(showNoData(personalTimetableDiv,"học kỳ"),weekSelect.parent().find(".select2-selection__placeholder").text("không khả dụng"))})),formSelect.on("change",(function(){var e=termSelect.val(),t=weekSelect.val(),l=$("#lecturer").val();e&&l&&($(this).is(weekSelect)||(weekSelect.empty(),t=0),loading(),fetchData(e,t,l))}));